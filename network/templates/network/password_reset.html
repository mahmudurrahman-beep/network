{% extends "network/layout.html" %}
{% load static %}

{% block body %}
<div class="container mt-5 mb-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-xl border-0 rounded-4 overflow-hidden bg-white/80"
           style="backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.25);">
        <div class="card-body p-5 p-md-5 text-center">

          <!-- Inline alert area for form errors/messages -->
          {% if form.errors or message %}
            <div class="alert alert-danger shadow-sm mb-4" role="alert" style="max-width:100%; border:none;">
              <div class="d-flex align-items-center">
                <div class="flex-grow-1 text-start">
                  {% if message %}{{ message }}{% endif %}
                  {% for field in form %}{% for error in field.errors %}{{ error }}{% endfor %}{% endfor %}
                  {% if form.non_field_errors %}{{ form.non_field_errors }}{% endif %}
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            </div>
          {% endif %}

          <h2 class="mb-4 fw-bold text-primary" style="letter-spacing: -0.5px;">
            Reset Your Password
          </h2>

          <p class="text-muted mb-4 lead fs-6">
            Enter your email address and we'll send you instructions to reset your password.
          </p>

          <form method="post" novalidate>
            {% csrf_token %}
            <div class="mb-4">
              <input type="email" name="email"
                     class="form-control form-control-lg rounded-pill shadow-sm text-start"
                     placeholder="you@example.com" required autofocus>
            </div>

            <button type="submit" class="btn btn-primary btn-lg w-100 rounded-pill fw-bold shadow-lg">
              Send Reset Instructions
            </button>
          </form>

          <div class="mt-4">
            <a href="{% url 'login' %}" class="text-primary fw-medium text-decoration-none">
              ‚Üê Back to Login
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .alert { border-radius:12px !important; backdrop-filter:blur(10px); background-color:rgba(255,255,255,0.95) !important; padding:0.75rem 1rem; }
  .alert::before { content:none !important; }
  .card-body input[type="email"], .card-body textarea {
    text-align:left !important;
    direction:ltr !important;
    padding-left:14px !important;
    box-sizing:border-box;
    min-width:0;
  }
  @media (max-width:576px) { .card-body { padding:2.5rem 1.5rem !important; } }
</style>
{% endblock %}
